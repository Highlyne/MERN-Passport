(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},45:function(e,t,a){e.exports=a(87)},50:function(e,t,a){},54:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(20),s=a.n(l),o=(a(50),a(23)),c=a.n(o),i=a(31),m=a(13),u=a(14),h=a(17),d=a(15),p=a(18),g=a(5),b=a(99),E=a(100),f=a(103),v=a(43),O=a.n(v),j=(a(54),a(16)),N=a.n(j),w=a(98),y=a(89),S=a(90),k=a(91),C=a(92),U=a(93),x=a(94),T=a(95),P=a(102),I=a(101),A=a(96),F=a(97),D=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).toggle=a.toggle.bind(Object(g.a)(Object(g.a)(a))),a.signout=a.signout.bind(Object(g.a)(Object(g.a)(a))),a.getUser=a.props.getUser.bind(Object(g.a)(Object(g.a)(a))),a.state={isOpen:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"signout",value:function(){var e=this;console.log("Running signout function"),N()({method:"GET",url:"/logout"}).then(function(t){console.log("client side hit logout route: "),console.log(t),200===t.status&&e.getUser()}).catch(function(e){console.log("logout error: "),console.log(e)})}},{key:"render",value:function(){return this.state.redirectTo?r.a.createElement(w.a,{to:{pathname:this.state.redirectTo}}):r.a.createElement("div",null,r.a.createElement(y.a,{color:"light",light:!0,expand:"md"},r.a.createElement(S.a,{href:"/"},"React Boiler Plate"),r.a.createElement(k.a,{onClick:this.toggle}),r.a.createElement(C.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(U.a,{className:"ml-auto",navbar:!0},r.a.createElement(x.a,null,r.a.createElement(T.a,{href:"/login"},"Log-In")),r.a.createElement(x.a,null,r.a.createElement(T.a,{href:"https://github.com/Highlyne/MERN-Stack"},"GitHub")),r.a.createElement(P.a,{nav:!0,inNavbar:!0},r.a.createElement(I.a,{nav:!0,caret:!0},"Options"),r.a.createElement(A.a,{right:!0},r.a.createElement(F.a,null,r.a.createElement(T.a,{href:"/login"},"Log-In")),r.a.createElement(F.a,null,r.a.createElement(T.a,{onClick:this.signout},"Log-Out")),r.a.createElement(F.a,null,r.a.createElement(T.a,{href:"/signup"},"Register")),r.a.createElement(F.a,{divider:!0}),r.a.createElement(F.a,null,"Reset")))))))}}]),t}(n.Component),L=a(25),R=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={username:"",email:"",password:"",confirmPassword:""},e.handleSubmit=e.handleSubmit.bind(Object(g.a)(Object(g.a)(e))),e.handleChange=e.handleChange.bind(Object(g.a)(Object(g.a)(e))),e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(L.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){console.log("sign-up handleSubmit has been clicked, username: "),console.log(this.state.username),e.preventDefault();var t={username:this.state.username,email:this.state.email,password:this.state.password};N.a.post("/signup",t).then(function(e){console.log(e),e.data.errmsg||e.data.errors&&e.data.errors.forEach(function(e){return alert(e.msg)})}).catch(function(e){console.log("signup error: "),console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"SignupForm"},r.a.createElement("h4",null,"Sign up"),r.a.createElement("form",{className:"form-horizontal"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"name"},"Username")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"username",name:"username",placeholder:"username",value:this.state.username,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"email"},"Email")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"email",name:"email",placeholder:"Email",value:this.state.email,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password: ")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",placeholder:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"password"},"Confirm Password: ")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",placeholder:"confirm password",type:"password",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group "},r.a.createElement("div",{className:"col-7"}),r.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",onClick:this.handleSubmit,type:"submit"},"Sign up"))))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={username:"",password:"",redirectTo:a.props.redirectTo},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(Object(g.a)(a))),a.handleChange=a.handleChange.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(L.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log("handleSubmit");var a={username:this.state.username,password:this.state.password};N()({method:"post",url:"/auth/login",data:a}).then(function(e){console.log("client side hit login route: "),console.log(e),200===e.status&&(t.props.updateUser({loggedIn:!0,username:e.data.username}),t.setState({redirectTo:"/dashboard"}))}).catch(function(e){console.log("login error: "),console.log(e)})}},{key:"render",value:function(){return this.state.redirectTo?r.a.createElement(w.a,{to:{pathname:this.state.redirectTo}}):r.a.createElement("div",null,r.a.createElement("h4",null,"Login"),r.a.createElement("form",{className:"form-horizontal"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"username"},"Username")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"username",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password: ")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",placeholder:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group "},r.a.createElement("div",{className:"col-7"}),r.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",onClick:this.handleSubmit,type:"submit"},"Login"))))}}]),t}(n.Component);var M=function(e){return r.a.createElement("div",null,r.a.createElement("p",null,"Hello, ",e.username," "),r.a.createElement("p",null,"If you are reading this, you are apart of the circle. "),r.a.createElement("img",{alt:"circle",src:"https://ak3.picdn.net/shutterstock/videos/11746163/thumb/11.jpg"}))},B=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).callApi=Object(i.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/hello");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)})),e.handleSubmit=function(){var t=Object(i.a)(c.a.mark(function t(a){var n,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,fetch("/api/world",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({post:e.state.post})});case 3:return n=t.sent,t.next=6,n.text();case 6:r=t.sent,e.setState({responseToPost:r});case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.state={response:"",post:"",responseToPost:"",loggedIn:!1,username:null,redirectTo:""},e.getUser=e.getUser.bind(Object(g.a)(Object(g.a)(e))),e.componentDidMount=e.componentDidMount.bind(Object(g.a)(Object(g.a)(e))),e.updateUser=e.updateUser.bind(Object(g.a)(Object(g.a)(e))),e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getUser(),this.callApi().then(function(t){return e.setState({response:t.express})}).catch(function(e){return console.log(e)})}},{key:"updateUser",value:function(e){this.setState(e)}},{key:"getUser",value:function(){var e=this;N.a.get("/user").then(function(t){console.log("Get user response: "),console.log(t.data),t.data.user?(console.log("Get User: There is a user saved in the server session: "),e.setState({loggedIn:!0,username:t.data.user.username})):201===t.status&&(console.log("User is not authenticated"),e.setState({loggedIn:!1,username:null,redirectTo:"/"}))})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(D,{getUser:this.getUser}),r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:O.a,className:"App-logo",alt:"logo"}),r.a.createElement("p",null,"Edit ",r.a.createElement("code",null,"src/App.js")," and save to reload."),r.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React")),r.a.createElement("p",null,this.state.response),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("p",null,r.a.createElement("strong",null,"Post to Server:")),r.a.createElement("input",{type:"text",value:this.state.post,onChange:function(t){return e.setState({post:t.target.value})}}),r.a.createElement("button",{type:"submit"},"Submit")),r.a.createElement("p",null,this.state.responseToPost),r.a.createElement(b.a,null,r.a.createElement(E.a,null,r.a.createElement(f.a,{exact:!0,path:"/dashboard",render:function(){return r.a.createElement(M,{username:e.state.username})}}),r.a.createElement(f.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(G,{redirectTo:e.redirectTo,updateUser:e.updateUser})}}),r.a.createElement(f.a,{exact:!0,path:"/signup",render:function(){return r.a.createElement(R,null)}}))))}}]),t}(n.Component);a(85),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,2,1]]]);
//# sourceMappingURL=main.8109bedf.chunk.js.map